[gd_scene load_steps=34 format=3 uid="uid://bbmfrvkiohwg5"]

[ext_resource type="Texture2D" uid="uid://d1yex5ybh0fw6" path="res://assets/sprites/machines/machineA/machineA_00000.png" id="1_f2j7j"]
[ext_resource type="Script" path="res://scripts/MachineA.gd" id="1_l6med"]
[ext_resource type="Texture2D" uid="uid://bf61udq04chq1" path="res://assets/sprites/machines/machineA/machineA_00001.png" id="2_khn7c"]
[ext_resource type="Texture2D" uid="uid://d4je1hfgyhtdo" path="res://assets/sprites/machines/machineA/machineA_00002.png" id="3_186kg"]
[ext_resource type="Texture2D" uid="uid://b21ib1prb6d7h" path="res://assets/sprites/machines/machineA/machineA_00003.png" id="4_cyo6l"]
[ext_resource type="Texture2D" uid="uid://byaa08ac851nc" path="res://assets/sprites/machines/machineA/machineA_00004.png" id="5_w3smi"]
[ext_resource type="Texture2D" uid="uid://djxo08lopxjfu" path="res://assets/sprites/machines/machineA/machineA_00005.png" id="6_0pmqx"]
[ext_resource type="Texture2D" uid="uid://jpo2hwr74nr0" path="res://assets/sprites/machines/broyeuse/broyeuse_00000.png" id="8_gs7cu"]
[ext_resource type="Texture2D" uid="uid://t535hao4re63" path="res://assets/sprites/machines/broyeuse/broyeuse_00001.png" id="9_b8bgt"]
[ext_resource type="Texture2D" uid="uid://brropyctk43ky" path="res://assets/sprites/machines/broyeuse/broyeuse_00002.png" id="10_l1j13"]
[ext_resource type="Texture2D" uid="uid://cdvu66dthshm6" path="res://assets/sprites/machines/broyeuse/broyeuse_00003.png" id="11_jdkp5"]
[ext_resource type="Texture2D" uid="uid://bc4qsflf34i0c" path="res://assets/sprites/machines/broyeuse/broyeuse_00004.png" id="12_kbd6x"]
[ext_resource type="Texture2D" uid="uid://df7hq4rwsw164" path="res://assets/sprites/machines/broyeuse/broyeuse_00005.png" id="13_su1aa"]
[ext_resource type="Script" path="res://scripts/michel.gd" id="14_52xnb"]
[ext_resource type="Texture2D" uid="uid://ioalijcxr8jw" path="res://assets/sprites/michel/michel.png" id="15_hxnjw"]
[ext_resource type="AudioStream" uid="uid://b25qd31qd13mu" path="res://assets/music/Energy_Source_-_Radiation.ogg" id="16_feel5"]
[ext_resource type="Texture2D" uid="uid://eenud47e0iot" path="res://assets/sprites/machines/barre place holder.png" id="17_syvym"]
[ext_resource type="Texture2D" uid="uid://dp0stfmlebfxp" path="res://assets/sprites/machines/bar progress fill placeholder.png" id="18_8g0ub"]
[ext_resource type="Texture2D" uid="uid://dphs5yeo0lubo" path="res://assets/sprites/michel/michel_work/michel_work00000.png" id="19_q0gfm"]
[ext_resource type="Script" path="res://scenes/TextureProgressBar.gd" id="19_w50jk"]
[ext_resource type="PackedScene" uid="uid://dlqjic7y2rfkq" path="res://scenes/vfx/text_effect.tscn" id="20_8gw2c"]
[ext_resource type="Texture2D" uid="uid://v5bfs122w7q3" path="res://assets/sprites/michel/michel_work/michel_work00001.png" id="20_dnwa6"]
[ext_resource type="Texture2D" uid="uid://b2ekrb6nec2mm" path="res://assets/sprites/michel/michel_work/michel_work00002.png" id="21_i3hpw"]
[ext_resource type="Texture2D" uid="uid://8t7xgamd13uo" path="res://assets/sprites/michel/michel_work/michel_work00003.png" id="22_ry334"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v54bu"]
size = Vector2(338, 326)

[sub_resource type="SpriteFrames" id="SpriteFrames_vdlr6"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_f2j7j")
}, {
"duration": 1.0,
"texture": ExtResource("2_khn7c")
}, {
"duration": 1.0,
"texture": ExtResource("3_186kg")
}, {
"duration": 1.0,
"texture": ExtResource("4_cyo6l")
}, {
"duration": 1.0,
"texture": ExtResource("5_w3smi")
}, {
"duration": 1.0,
"texture": ExtResource("6_0pmqx")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ritsi"]
size = Vector2(318, 328)

[sub_resource type="SpriteFrames" id="SpriteFrames_87e42"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_gs7cu")
}, {
"duration": 1.0,
"texture": ExtResource("9_b8bgt")
}, {
"duration": 1.0,
"texture": ExtResource("10_l1j13")
}, {
"duration": 1.0,
"texture": ExtResource("11_jdkp5")
}, {
"duration": 1.0,
"texture": ExtResource("12_kbd6x")
}, {
"duration": 1.0,
"texture": ExtResource("13_su1aa")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_u3v2u"]
radius = 23.0
height = 70.0

[sub_resource type="Animation" id="Animation_qni6p"]
resource_name = "walking"
length = 0.2
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, -20), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1.05, 0.95), Vector2(0.95, 1.05), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_1b8fu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1kthv"]
_data = {
"RESET": SubResource("Animation_1b8fu"),
"walking": SubResource("Animation_qni6p")
}

[sub_resource type="SpriteFrames" id="SpriteFrames_rlo3w"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("19_q0gfm")
}, {
"duration": 1.0,
"texture": ExtResource("20_dnwa6")
}, {
"duration": 1.0,
"texture": ExtResource("21_i3hpw")
}, {
"duration": 1.0,
"texture": ExtResource("22_ry334")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[node name="Usine" type="Node2D"]

[node name="MachineA" type="Area2D" parent="."]
position = Vector2(349, 299)
script = ExtResource("1_l6med")

[node name="CollisionShape2D" type="CollisionShape2D" parent="MachineA"]
shape = SubResource("RectangleShape2D_v54bu")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="MachineA"]
sprite_frames = SubResource("SpriteFrames_vdlr6")
autoplay = "default"
frame_progress = 0.193712

[node name="MachineB" type="Area2D" parent="."]
position = Vector2(864, 303)
script = ExtResource("1_l6med")

[node name="CollisionShape2D" type="CollisionShape2D" parent="MachineB"]
shape = SubResource("RectangleShape2D_ritsi")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="MachineB"]
sprite_frames = SubResource("SpriteFrames_87e42")
autoplay = "default"

[node name="TextureProgressBar" type="TextureProgressBar" parent="MachineB"]
offset_left = 90.0
offset_top = 2.0
offset_right = 130.0
offset_bottom = 130.0
fill_mode = 3
texture_under = ExtResource("17_syvym")
texture_over = ExtResource("17_syvym")
texture_progress = ExtResource("18_8g0ub")
script = ExtResource("19_w50jk")

[node name="Timer" type="Timer" parent="MachineB/TextureProgressBar"]
one_shot = true

[node name="michel" type="CharacterBody2D" parent="."]
position = Vector2(85, 547)
script = ExtResource("14_52xnb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="michel"]
shape = SubResource("CapsuleShape2D_u3v2u")

[node name="Sprite2D" type="Sprite2D" parent="michel"]
texture = ExtResource("15_hxnjw")

[node name="AnimationPlayer" type="AnimationPlayer" parent="michel"]
libraries = {
"": SubResource("AnimationLibrary_1kthv")
}

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="michel"]
visible = false
sprite_frames = SubResource("SpriteFrames_rlo3w")
autoplay = "default"
frame_progress = 0.398033

[node name="GameMusic" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("16_feel5")

[node name="TextEffect" parent="." instance=ExtResource("20_8gw2c")]
modulate = Color(1, 1, 1, 1)
position = Vector2(0, 0)
scale = Vector2(1, 1)

[connection signal="input_event" from="MachineA" to="MachineA" method="_on_input_event"]
[connection signal="input_event" from="MachineB" to="MachineB" method="_on_input_event"]
[connection signal="timeout" from="MachineB/TextureProgressBar/Timer" to="MachineB/TextureProgressBar" method="_on_timer_timeout"]
